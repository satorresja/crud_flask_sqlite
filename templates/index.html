{% extends 'layout.html' %}
{% block body %}
  <h3 class='text-center text-muted mb-3'>Flask - SQLite CRUD Application</h3>
  <p class='text-right'><a href="{{url_for('add_task')}}" class='btn btn-success '>+Add Task</a></p>
  <table class='table table-bordered'>
    <thead>
      <th>Index</th>
      <th>Tasks</th>
      <th>Count</th>
      <th>Completed</th>
      <th>Edit</th>
      <th>Delete</th>
    </thead>
    <tbody>
      {% for row in rows %}
        <tr>
          <td>{{row.id}}</td>
          <td>{{row.task}}</td>
          <td>{{row.task|length}}</td>
          {% if row.completed %}
            <td>Finished</td>
          {% else %}
            <td>Not finished</td>
          {% endif %}
          
          <td><a href="{{url_for('edit_task',id=row.id)}}"class='btn btn-primary'>Edit</a></td>
          <td><a href="{{url_for('delete_task',id= row.id) }}" class='btn btn-danger' onclick='return confirm("Are You Sure")'>Delete</a></td>
        </tr>
      {%endfor%}
    </tbody>
  </table>
{% endblock %}